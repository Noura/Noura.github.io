{% macro tile(page) %}
<a href="#{{page.path}}">
  <div class="tile col-xs-12 col-sm-6 col-md-4">
      <img src="/static/img/280px_tiles/{{ page.thumbnail }}">
      <span class="name">
          {{ page.name }}
      </span>
  </div>
</a>
{% endmacro %}

{% macro tiles(ctx) %}
  <div class="row big-tiles">
    {% for page in ctx.pages %}
      {{ tile(page) }} 
    {% endfor %}
  </div>
{% endmacro %}

{% macro detail(page, ctx) %}
<div class="container project-page hide" data-project="{{page.path}}">
  <a href="#">
    <div class="close-project-page">
    </div>
  </a>

  <div class="row">
    <div class="col-xs-12 topbar">
      <h1>{{page.name}}</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 content">

      {% include page.template %}

    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 date">
      <p>{{page.date}}</p>
    </div>
  </div>
</div>
{% endmacro %}

{% macro details(ctx) %}
  {% for page in ctx.pages %}
    {{ detail(page, ctx) }}
  {% endfor %}
{% endmacro %}

{% macro publication(pub) %}
<p class="publication">
  <a class="publication" href="{{pub.url}}">
    <span class="publication"></span>
    {{ pub.cite|safe }}
  </a>
</p>
{% endmacro %}

{% macro list_all_publications(pubs_list) %}
  {% for pub in pubs_list %}
    {{ publication(pub) }}
  {% endfor %}
{% endmacro %}
